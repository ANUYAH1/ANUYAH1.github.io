<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>D3 assignment CS573</title>
   </head>
   <style>
      body {
      font: 10px sans-serif;
      }
      .axis path,
      .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
      }
      .bar {
      fill: steelblue;
      }
      .x.axis path {
      display: none;
      }
   </style>
   <body>
      <script src="//d3js.org/d3.v3.min.js"></script>
      <script>
         var data = d3.tsv("words2.txt", type, function(error, letters) {         
              
             });
         
         console.log(data);
         
             var w = 800;
         var h = 450;
         var margin = {
         top: 20,
         bottom: 20,
         left: 20,
         right: 20
         };
         var width = w - margin.left - margin.right;
         var height = h - margin.top - margin.bottom;
         var x = d3.scaleLinear()
            .domain([0, d3.max(data, function(d){
                return d.value;
            })])
            .range([0, width]);
         
         var y = d3.scaleBand()
            .domain(data.map(function(entry){
                return entry.key;
            }))
         .rangeRound([0, height])
         .padding(0.1);      
         
         var svg = d3.select("body").append("svg")
                .attr("id", "chart")
                .attr("width", w)
                .attr("height", h);
         var chart = svg.append("g")
                .classed("display", true)
                .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         
         function plot(params){
         this.selectAll(".bar")
            .data(params.data)
            .enter()
                .append("rect")
         .classed("bar", true)
                .attr("x", 0)
                .attr("y", function(d,i){
                    return y(d.key);
                })
                .attr("height", function(d,i){
                    return y.bandwidth()-1;
                })
                .attr("width", function(d){
                    return x(d.value);
                });
         this.selectAll(".bar-label")
            .data(params.data)
            .enter()
                .append("text")
         .classed("bar-label", true)
                .attr("x", function(d){
                    return x(d.value);
                })
                .attr("dx", -4)
                .attr("y", function(d,i){
                    return y(d.key);
                })
                .attr("dy", function(d,i){
                    return y.bandwidth()/1.5+2;
                })
                .text(function(d){
                    return d.value;
                })
         }
         plot.call(chart, {data: data});
             
             
             
           
             
             
                   
                
          
      </script>
   </body>
</html>